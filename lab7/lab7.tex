\include{settings}

\begin{document}

\include{titlepage}

\section{Цель работы}

Исследование ряда типовых нелинейных преобразователей сигналов на основе операционных усилителей.

\section{Чертеж схемы исследуемого устройства}

\begin{figure}[H]
\begin{center}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[scale=0.49]{scheme1}
		\caption{Выпрямитель, построенный \\на основе ОУ}
	\end{subfigure}
	\begin{subfigure}[b]{0.45\textwidth}
		\includegraphics[scale=0.39]{scheme2}
		\caption{Двухсторонний усилитель-ограничитель}
	\end{subfigure}
	\caption{}
\end{center}
\end{figure}


\section{Исходные данные}

Операционный усилитель \verb+К140УД6+.

\begin{table}[H]
\begin{center}
	\caption{Исходные данные}
	\def\tabcolsep{8pt}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		$U_\text{вых}$, В &
		$e_c$, В &
		$K1$ &
		$K2$ &
		$K3$ &
		$U_\text{огр}$, В &
		$R_1$, кОм &
		$E_{01}$, В &
		$E_{02}$, В \\
		\hline
		$\pm12$ &
		15 &
		10 &
		1 &
		2 &
		$\pm2$ &
		20 &
		15 &
		15 \\
	    \hline	
	\end{tabular}
\end{center}
\end{table}

\section{Теоретические расчёты}

\subsection{Расчет параметров элементов}

\begin{displaymath}
	R_2 = K_1 \cdot R_1 = 10 \cdot 20 = 200 \text{ кОм}
\end{displaymath}

\begin{displaymath}
	R_3 = \frac{K_2 \cdot R_2}{K_1 - K_2} = \frac{1 \cdot 200}{10 - 1} = \frac{200}{9} = 22.2 \text{ кОм}
\end{displaymath}

\begin{displaymath}
	R_4 = \frac{K_3 \cdot R_2}{K_1 - K_3} = \frac{2 \cdot 200}{10 - 2} = \frac{400}{8} = 50 \text{ кОм}
\end{displaymath}

\begin{displaymath}
	R_5 = \frac{R_4 \cdot E_{02}}{U_{\text{огр}^{+}}} = \frac{50 \cdot 15}{2} = \frac{750}{2} = 375 \text{ кОм}
\end{displaymath}

\begin{displaymath}
	R_6 = -\frac{R_3 \cdot E_{01}}{U_{\text{огр}^{-}}} = \frac{22.2 \cdot 15}{-2} = \frac{333}{2} = 166.5 \text{ кОм}
\end{displaymath}

\section{Экспериментально снятые зависимости}

\subsection{Выпрямитель}

\begin{table}[H]
\begin{center}
	\caption{Зависимость напряжения $U_\text{вых}$ от $U_\text{вх}$}
	\label{tab:k_dc}
	\def\tabcolsep{30pt}
	\def\arraystretch{1.2}
	\fontsize{13}{14}\selectfont
	\pgfplotstabletypeset[col sep=comma,
	    columns={u_in,u_out,k,u_out_t},
	    column type/.add={|c|}{},
	    columns/u_in/.style={fixed, precision=3, zerofill, column name={$U_\text{вх}$, В}},
	    columns/u_out/.style={fixed, precision=3, zerofill, column name={$U_\text{вых}$, В}},
	    columns/k/.style={fixed, precision=2, zerofill, column name={$K$}},,
	    columns/u_out_t/.style={fixed, precision=3, zerofill, column name={$U_\text{вых теор}$, В}},
	    every nth row={1}{before row=\hline},
	    every head row/.style={before row=\hline, after row=\hline},
	    every last row/.style={after row=\hline}
	   ]{data/scheme1.csv}
\end{center}
\end{table}

\begin{figure}[H]
\begin{center}
	\begin{tikzpicture} [every plot/.append style={thick}]
		\begin{axis}[
			height=0.45\textheight,
			width=0.95\textwidth,
			legend pos = north east,
			xlabel={$U_\text{вх}$, В},
			ylabel={$U_\text{вых}$, В},
			axis x line = middle,
			axis y line = middle,
			xmin = 0,
			xmax = 1.8,
			ymin = 0,
			ymax = 18,
			grid=major
		]
		\addplot [mark=square*, blue] table[x=u_in,y=u_out,col sep=comma]{data/scheme1.csv};
		\addplot [mark=*, dashed, red] table[x=u_in,y=u_out_t,col sep=comma]{data/scheme1.csv};
		\legend{Эксп., Теор.}
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость напряжения $U_\text{вых}$ от $U_\text{вх}$}
	\label{fig:ampl}
\end{center}
\end{figure}

\subsection{Двухсторонний усилитель-ограничитель}

\begin{table}[H]
\begin{center}
	\caption{Зависимость напряжения $U_\text{вых}$ от $U_\text{вх}$}
	\label{tab:k_dc}
	\def\tabcolsep{20pt}
	\def\arraystretch{1.2}
	\fontsize{13}{14}\selectfont
	\pgfplotstabletypeset[col sep=comma,
	    columns={u_in,u_out,k,u_out_t,k_t},
	    column type/.add={|c|}{},
	    columns/u_in/.style={fixed, precision=3, zerofill, column name={$U_\text{вх}$, В}},
	    columns/u_out/.style={fixed, precision=3, zerofill, column name={$U_\text{вых}$, В}},
	    columns/k/.style={fixed, precision=2, zerofill, column name={$K$}},
	    columns/u_out_t/.style={fixed, precision=3, zerofill, column name={$U_\text{вых теор}$, В}},
	    columns/k_t/.style={fixed, precision=0, zerofill, column name={$K_\text{теор}$}},
	    every nth row={1}{before row=\hline},
	    every head row/.style={before row=\hline, after row=\hline},
	    every last row/.style={after row=\hline}
	   ]{data/scheme2.csv}
\end{center}
\end{table}

\begin{figure}[H]
\begin{center}
	\begin{tikzpicture} [every plot/.append style={thick}]
		\begin{axis}[
			height=0.45\textheight,
			width=0.95\textwidth,
			legend pos = north east,
			xlabel={$U_\text{вх}$, В},
			ylabel={$U_\text{вых}$, В},
			axis x line = middle,
			axis y line = middle,
			xmin = -8,
			xmax = 14,
			ymin = -15,
			ymax = 15,
			grid=major
		]
		\addplot table[x=u_in,y=u_out,col sep=comma]{data/scheme2.csv};
		\addplot table[x=u_in,y=u_out_t,col sep=comma]{data/scheme2.csv};
		\legend{Эксп., Теор.}
		\end{axis}
	\end{tikzpicture}
	\caption{Общий вид зависимости напряжения $U_\text{вых}$ от $U_\text{вх}$}
	\label{fig:ampl}
\end{center}
\end{figure}

\vspace{-1.1cm}

\begin{figure}[H]
\begin{center}
	\begin{tikzpicture} [every plot/.append style={thick}]
		\begin{axis}[
			height=0.45\textheight,
			width=0.95\textwidth,
			legend pos = north east,
			xlabel={$U_\text{вх}$, В},
			ylabel={$U_\text{вых}$, В},
			axis x line = middle,
			axis y line = middle,
			xmin = -0.5,
			xmax = 0.5,
			ymin = -4,
			ymax = 4,
			grid=major
		]
		\addplot table[x=u_in,y=u_out,col sep=comma]{data/scheme2.csv};
		\addplot table[x=u_in,y=u_out_t,col sep=comma]{data/scheme2.csv};
		\draw[black,very thick,dashed] (axis cs:0,2.3) -- (axis cs:-0.22,2.3) -- (axis cs:-0.22,0);
		\draw[black,very thick,dashed] (axis cs:0,-2.2) -- (axis cs:0.22,-2.2) -- (axis cs:0.22,0);
		\legend{Эксп., Теор.}
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость напряжения $U_\text{вых}$ от $U_\text{вх}$ в области срабатывания ограничителя}
	\label{fig:ampl}
\end{center}
\end{figure}

\section{Погрешности}

\section{Выводы}

Вычесленные теоретические и полученные экспериментальные значения близки. Следовательно, формулы \ref{eq:1} -- \ref{eq:2} могут быть использованы при расчетах.

\end{document}